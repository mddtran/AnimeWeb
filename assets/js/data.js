/**
 * DATA.JS - STATIC MOCK DATABASE
 * Self-contained database for GitHub Pages environment.
 * No backend required - all data is embedded as static JSON.
 */

const ANIME_DB = [
    {
        id: "majo-no-tabitabi",
        title: "Majo no Tabitabi",
        description: "Hành trình của Elaina qua các vùng đất kỳ bí.",
        thumbnail: "https://cdn.myanimelist.net/images/anime/1238/113866l.jpg",
        episodes: [
                { name: "Hành trình của Elaina - Tập 01 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=99q74cS0chk" },
                { name: "Hành trình của Elaina - Tập 02 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=gHSvQRejEzM" },
                { name: "Hành trình của Elaina - Tập 03 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=AZ30YuGyaYU" },
                { name: "Hành trình của Elaina - Tập 04 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=HZQcf1VWf78" },
                { name: "Hành trình của Elaina - Tập 05 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=TGdEBM8iQiI" },
                { name: "Hành trình của Elaina - Tập 06 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=4ZY5DEOKmYs" },
                { name: "Hành trình của Elaina - Tập 07 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=8VYYvgw_4L8" },
                { name: "Hành trình của Elaina - Tập 08 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=SpTgCQGWqqc" },
                { name: "Hành trình của Elaina - Tập 09 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=s2gB8gyUTko" },
                { name: "Hành trình của Elaina - Tập 10 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=fU1hI7qNkFk" },
                { name: "Hành trình của Elaina - Tập 11 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=6nPF8lSOPrw" },
                { name: "Hành trình của Elaina - Tập 12 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=HytFmLrARZc" }
        ]
    },
    {
        id: "lv2-cheat",
        title: "Lv2 kara Cheat datta",
        description: "Chillin' in Another World with Level 2 Super Cheat Powers",
        thumbnail: "https://cdn.myanimelist.net/images/anime/1103/142513l.jpg",
        episodes: [
                { name: "Tập 01[Việt sub]", stream_url: "https://www.youtube.com/watch?v=nVlkNXVr_7E" },
                { name: "Tập 02[Việt sub]", stream_url: "https://www.youtube.com/watch?v=RP3g5kGakkM" },
                { name: "Tập 03[Việt sub]", stream_url: "https://www.youtube.com/watch?v=LOsUb-F6jLs" },
                { name: "Tập 04[Việt sub]", stream_url: "https://www.youtube.com/watch?v=HyHsIeUpTOU" },
                { name: "Tập 05[Việt sub]", stream_url: "https://www.youtube.com/watch?v=sM80RsetVxk" },
                { name: "Tập 06[Việt sub]", stream_url: "https://www.youtube.com/watch?v=RbYAS-McGXs" },
                { name: "Tập 07[Việt sub]", stream_url: "https://www.youtube.com/watch?v=X6Mnc2ifq_o" },
                { name: "Tập 08[Việt sub]", stream_url: "https://www.youtube.com/watch?v=46RSKR5DwFk" },
                { name: "Tập 09[Việt sub]", stream_url: "https://www.youtube.com/watch?v=SnZpjrm7YBs" },
                { name: "Tập 10[Việt sub]", stream_url: "https://www.youtube.com/watch?v=vGVGB3Rf1x4" },
                { name: "Tập 11[Việt sub]", stream_url: "https://www.youtube.com/watch?v=NzpYpYYl9wo" },
                { name: "Tập 12[Việt sub]", stream_url: "https://www.youtube.com/watch?v=YMAoD0rqleQ" },
                { name: "Tập 01-12", stream_url: "https://www.youtube.com/watch?v=CqFs9CwDETY" }
        ]
    },
    {
        id: "Failure Frame",
        title: "Hazurewaku no \"Joutai Ijou Skill\" de Saikyou ni Natta Ore ga Subete wo Juurin suru made",
        description: "Hazurewaku no \"Joutai Ijou Skill\" de Saikyou ni Natta Ore ga Subete wo Juurin suru made",
        thumbnail: "https://cdn.myanimelist.net/images/anime/1839/142681l.jpg",
        episodes: [
                { name: "Tập 01 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=qT1-Lanh3-0" },
                { name: "Tập 02 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=xg4anH-pQ5w" },
                { name: "Tập 03 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=xNU86TyFg4I" },
                { name: "Tập 04 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=wqv2s9raNXw" },
                { name: "Tập 05 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=ZcaNpPesm8A" },
                { name: "Tập 06 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=VLUdy8Ytxcc" },
                { name: "Tập 07 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=4BSLMVS46uE" },
                { name: "Tập 08 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=NcRHD7ofo3o" },
                { name: "Tập 09 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=rDzZWTBIY6s" },
                { name: "Tập 10 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=BRydsYHS0jI" },
                { name: "Tập 11 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=r1xQbIV4op4" },
                { name: "Tập 12 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=wdsPh3rNuPc" }
        ]
    },
    {
        id: "tearmoon",
        title: "Tearmoon Teikoku Monogatari",
        description: "Tearmoon Teikoku Monogatari: Dantoudai kara Hajimaru, Hime no Tensei Gyakuten Story",
        thumbnail: "https://cdn.myanimelist.net/images/anime/1514/127699l.jpg",
        episodes: [
                    { name: "Tập 01 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=h7QSt2n4PkQ" },
                    { name: "Tập 02 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=lLQVMGumdGI" },
                    { name: "Tập 03 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=6w-PQNfcKrM" },
                    { name: "Tập 04 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=-_tlkrlMSHw" },
                    { name: "Tập 05 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=lpWGwH2BcVE" },
                    { name: "Tập 06 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=FP1suNaSP20" },
                    { name: "Tập 07 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=ICz1bksN2k4" },
                    { name: "Tập 08 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=cqXXhj2hgAs" },
                    { name: "Tập 09 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=x-3YgVqHEJA" },
                    { name: "Tập 10 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=987S78S1E24" },
                    { name: "Tập 11 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=mb-Ocf3BNuE" },
                    { name: "Tập 12 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=9Glq3t1ebwQ" }
        ]
    },
    {
        id: "Ansatsusha",
        title: "Ansatsusha de Aru Ore no Status ga Yuusha yori mo Akiraka ni Tsuyoi no da ga",
        description: "Ansatsusha de Aru Ore no Status ga Yuusha yori mo Akiraka ni Tsuyoi no da ga",
        thumbnail: "https://cdn.myanimelist.net/images/anime/1029/148034l.jpg",
        episodes: [
                        { name: "Tập 01 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=N3o-BkWzsR8" },
                        { name: "Tập 02 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=OBgvU9W4ltE" },
                        { name: "Tập 03 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=vQb_V9I0bJ8" },
                        { name: "Tập 04 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=dlBHNy0Cpu4" },
                        { name: "Tập 05 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=KzHqJ-WEnDo" },
                        { name: "Tập 06 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=GPdRFf6cMCU" },
                        { name: "Tập 07 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=kY5sIFltXrM" },
                        { name: "Tập 08 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=ik_s1b9YIXY" },
                        { name: "Tập 09 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=fHzHbS-EPx0" },
                        { name: "Tập 10 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=uvQFsJnxViM" },
                        { name: "Tập 11 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=y-qiN565xg8" },
                        { name: "Tập 12 [Việt sub]", stream_url: "https://www.youtube.com/watch?v=z32tQDWZzHY" }
        ]
    },
    {
        id: "zenless-zone-zero",
        title: "Zenless Zone Zero Music",
        description: "Tuyển tập nhạc ZZZ từ Hoyo-Mix",
        thumbnail: "https://i.ytimg.com/vi/triNgwM3bGI/maxresdefault.jpg",
        episodes: [
            { name: "ReDreaming Angel", stream_url: "https://www.youtube.com/watch?v=triNgwM3bGI" },
            { name: "Tiny Giant", stream_url: "https://www.youtube.com/watch?v=bviZmH3w5ew" },
            { name: "Caesar EP - pinKing", stream_url: "https://www.youtube.com/watch?v=cbU2fNFVoQE" }
        ]
    },
    {
        id: "hikaru-utada",
        title: "Hikaru Utada Best",
        description: "Tuyển tập các bài hát hay nhất.",
        thumbnail: "https://www.en.utadahikaru.jp/_next/image/?url=https%3A%2F%2Fimages.microcms-assets.io%2Fassets%2F84ce301246294d9f9c15c8d9b7d21c16%2F68ae9f296bcd424a83f9d7ff9bfd944e%2FA%25E5%2586%2599HU%25E3%2583%25A1%25E3%2582%25A4%25E3%2583%25B3_2025.jpg&w=3840&q=75",
        episodes: [
            { name: "One Last Kiss", stream_url: "https://www.youtube.com/watch?v=0Uhh62MUEic" },
            { name: "Beautiful World", stream_url: "https://www.youtube.com/watch?v=uuMNmHdr0Lg" }
        ]
    }
];

window.AnimeAPI = {
    fetchCatalog: async function() {
        window.animeDB = ANIME_DB;
        return ANIME_DB;
    },

    fetchEpisodes: async function(seriesId) {
        const series = ANIME_DB.find(s => s.id === seriesId);
        if (!series) return [];
        
        return series.episodes.map((ep, index) => ({
            name: ep.name,
            fid: ep.stream_url,
            id: index,
            sourceType: ep.type === 'playlist' ? 'youtube-playlist' : 'youtube',
            img: series.thumbnail
        }));
    },

    getImageUrl: function(id) {
        const item = ANIME_DB.find(i => i.id === id);
        return item ? item.thumbnail : 'assets/img/favico.png';
    },

    getStreamUrl: function(fid) {
        return fid;
    },

    getMetadata: function(id) {
        const item = ANIME_DB.find(i => i.id === id);
        return item ? {
            id: item.id,
            title: item.title,
            description: item.description,
            thumbnail: item.thumbnail
        } : null;
    }
};